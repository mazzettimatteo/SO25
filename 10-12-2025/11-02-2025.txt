-------------------------------------------------C1------------------------------------
Esercizio c.1: Il monitor swapobj ha due procedure entry:
void swapa(obj_t *in, obj_t *out);
void swapb(obj_t *in, obj_t *out);
I processi di tipo A chiamano la swapa e quelli di tipo B chiamano la swapb. In ordine FIFO i processi che chiamano la swapa e quelli che chiamano la swapb copiano vicendevolmente il valore degli oggetti passati come parametro:
Il primo processo che chiama la swapa copia il valore del proprio parametro out nel parametro in del primo processo
che ha chiamato la swapb e viceversa (copia il parametro out del primo swapb nel parametro in del primo swapa).
Similmente devono fare il secondo processo che chiama swapa con secondo che chiama swapb e così via.

Data la completa simmetria delle due chiamate io mi aspetto che il codice sia completamente simmetrico.

monitor swapobj{
int wa, wb
condition ok2a //aspetta quando il cont dei processi in attesa dell'altro tipo è vuoto: wb>0
condition ok2b //wa>0

p.e. void swapa(obj_t *in, obj_t *out)
	if wb==0
		wa++
		ok2a.wait()
		wa--
		*in=*bout
		*bout=*out
	else
		ain=in
		aout=out
		//qui c'è un a e un b in attesa
		ok2b.signal()

p.e. void swapb(obj_t *in, obj_t *out) //La swapb(...) è identica scambiando i nomi.
	if wa==0
		wb++
		ok2b.wait()
		wb--
		*in=*aout
		*ain=*out
	else
		//qui c'è un a e un b in attesa
		bin=in
		bout=out
		ok2a.signal()
		
}
